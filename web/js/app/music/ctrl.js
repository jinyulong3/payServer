app.controller("MusicCtrl",["$sce","$scope",function(e,s){s.API=null,s.active=0,s.audios=[{title:"1. Lentement",artist:"Miaow",poster:"img/b0.jpg",sources:[{src:e.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-03-Lentement.mp3"),type:"audio/mpeg"},{src:e.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-03-Lentement.ogg"),type:"audio/ogg"}]},{title:"2. Bubble",artist:"Miaow",poster:"img/b1.jpg",sources:[{src:e.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-07-Bubble.mp3"),type:"audio/mpeg"},{src:e.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-07-Bubble.ogg"),type:"audio/ogg"}]},{title:"3. Partir",artist:"Miaow",poster:"img/b2.jpg",sources:[{src:e.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-09-Partir.mp3"),type:"audio/mpeg"},{src:e.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-09-Partir.ogg"),type:"audio/ogg"}]}],s.config={sources:s.audios[0].sources,title:s.audios[0].title,repeat:!1,shuffle:!1,autoPlay:!0,theme:{url:"js/app/music/videogular.css"}},s.onPlayerReady=function(e){s.API=e,"play"!=s.API.currentState&&!s.isCompleted||s.API.play(),s.isCompleted=!1},s.onComplete=function(){s.isCompleted=!0,s.config.shuffle?s.active=s.getRandom(s.active):s.active++,s.active>=s.audios.length?(s.active=0,s.config.repeat&&s.setActive(s.active)):s.setActive(s.active)},s.getRandom=function(e){var t=Math.floor(Math.random()*s.audios.length);return t-e||(t=s.getRandom(e)),t},s.play=function(e){s.isCompleted=!0,"next"==e?s.active++:s.active--,s.active>=s.audios.length&&(s.active=0),-1==s.active&&(s.active=s.audios.length-1),s.setActive(s.active)},s.setActive=function(e){s.API.stop(),s.config.sources=s.audios[e].sources,s.config.title=s.audios[e].title},s.toggleRepeat=function(){s.config.repeat=!s.config.repeat,s.isCompleted&&s.API.play()},s.toggleShuffle=function(){s.config.shuffle=!s.config.shuffle,console.log(s.API.currentState),s.isCompleted&&s.API.play()},s.video={sources:[{src:e.trustAsResourceUrl("http://flatfull.com/themes/assets/video/big_buck_bunny_trailer.m4v"),type:"video/mp4"},{src:e.trustAsResourceUrl("http://flatfull.com/themes/assets/video/big_buck_bunny_trailer.webm"),type:"video/webm"},{src:e.trustAsResourceUrl("http://flatfull.com/themes/assets/video/big_buck_bunny_trailer.ogv"),type:"video/ogg"}],theme:{url:"js/app/music/videogular.css"},plugins:{controls:{autoHide:!0,autoHideTime:5e3},poster:"img/c1.jpg"}}}]);