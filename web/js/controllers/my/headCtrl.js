app.controller("headCtrl",["$scope","$state","toaster","myConstants","$uibModal","httpJsonHandle","$translate",function(o,n,s,t,e,l,a){o.roleName="",o.lang={isopen:!1},o.langs={"zh-cn":"中文",en:"English"};var c=a.proposedLanguage()||a.use();o.app.myData.lang=c,console.log(o.app.myData.lang),o.selectLang=o.langs[c],o.setLang=function(n,e){o.selectLang=o.langs[n],a.use(n),o.lang.isopen=!o.lang.isopen,o.app.myData.lang=n},app.controller("changePswCon",["$scope","$uibModalInstance","parentScope","info",function(e,o,n,a){console.log(a),e.info=a,e.parentScope=n,e.oldPswErr=!1,e.verify=function(){return void 0===e.info||void 0===e.info.newPsw||void 0===e.newPsw2||(e.info.newPsw,e.newPsw2),!0},e.ok=function(){e.info.sessionId=n.app.myData.sessionId,e.info.username=e.parentScope.app.myData.username,console.log(e.info),e.callback2=function(n){s.clear(),s.pop("success","成功","修改成功！",t.TIMEOUT.timeout1s),o.dismiss(0),e.parentScope.loginout()},l.myPost2(t.URL.systemUrl,e.info,t.msgIdName.changePswMsgId,t.msgIdName.changePswMsgName,e.callback2,o),s.pop("wait","请求数据","修改密码中...")},e.cancel=function(){o.dismiss(0)}}]),o.changePsw=function(){var n=o;e.open({templateUrl:"tpl/blocks/header/changePsw.html",controller:"changePswCon",size:"md",resolve:{parentScope:n,info:o.info}})},o.loginout=function(){o.app.myData.sessionId="",n.go("access.signin")}}]);