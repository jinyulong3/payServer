!function(e){"use strict";function t(e){var t=this;t.index=++c.index,t.config=s.extend({},t.config,f.config,e),t.creat()}var s,l,f={getPath:function(){var e=document.scripts,t=e[e.length-1],i=t.src;if(!t.getAttribute("merge"))return i.substring(0,i.lastIndexOf("/")+1)}(),enter:function(e){13===e.keyCode&&e.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},c={v:"2.1",ie6:!!e.ActiveXObject&&!e.XMLHttpRequest,index:0,path:f.getPath,config:function(i,o){var n=0;return i=i||{},c.cache=f.config=s.extend(f.config,i),c.path=f.config.path||c.path,"string"==typeof i.extend&&(i.extend=[i.extend]),c.use("skin/layer.css",i.extend&&0<i.extend.length?function e(){var t=i.extend;c.use(t[t[n]?n:n-1],n<t.length?(++n,e):o)}():o),this},use:function(e,t,i){var o=s("head")[0],n=(e=e.replace(/\s/g,""),/\.css$/.test(e)),a=document.createElement(n?"link":"script"),r="layui_layer_"+e.replace(/\.|\//g,"");if(c.path)return n&&(a.rel="stylesheet"),a[n?"href":"src"]=/^http:\/\//.test(e)?e:c.path+e,a.id=r,s("#"+r)[0]||o.appendChild(a),function e(){(n?1989===parseInt(s("#"+r).css("width")):c[i||r])?function(){t&&t();try{n||o.removeChild(a)}catch(e){}}():setTimeout(e,100)}(),this},ready:function(e,t){var i="function"==typeof e;return i&&(t=e),c.config(s.extend(f.config,i?{}:{path:e}),t),this},alert:function(e,t,i){var o="function"==typeof t;return o&&(i=t),c.open(s.extend({content:e,yes:i},o?{}:t))},confirm:function(e,t,i,o){var n="function"==typeof t;return n&&(o=i,i=t),c.open(s.extend({content:e,btn:f.btn,yes:i,cancel:o},n?{}:t))},msg:function(e,t,i){var o="function"==typeof t,n=f.config.skin,a=(n?n+" "+n+"-msg":"")||"layui-layer-msg",r=d.anim.length-1;return o&&(i=t),c.open(s.extend({content:e,time:3e3,shade:!1,skin:a,title:!1,closeBtn:!1,btn:!1,end:i},o&&!f.config.skin?{skin:a+" layui-layer-hui",shift:r}:(-1!==(t=t||{}).icon&&(void 0!==t.icon||f.config.skin)||(t.skin=a+" "+(t.skin||"layui-layer-hui")),t)))},load:function(e,t){return c.open(s.extend({type:3,icon:e||0,shade:.01},t))},tips:function(e,t,i){if(s(t).is(":hidden"))return null;var o=s.extend({type:4,content:[e,t],closeBtn:!1,time:3e3,maxWidth:210},i);return c.open(o)}};t.pt=t.prototype;var d=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];d.anim=["layui-anim","layui-anim-01","layui-anim-02","layui-anim-03","layui-anim-04","layui-anim-05","layui-anim-06"],t.pt.config={type:0,shade:.3,fix:!0,move:d[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2},t.pt.vessel=function(e,t){var i,o=this.index,n=this.config,a=n.zIndex+o,r="object"==typeof n.title,s=n.maxmin&&(1===n.type||2===n.type),l=n.title?'<div class="layui-layer-title" style="'+(r?n.title[1]:"")+'">'+(r?n.title[0]:n.title)+"</div>":"";return n.zIndex=a,t([n.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+o+'" times="'+o+'" style="z-index:'+(a-1)+"; background-color:"+(n.shade[1]||"#000")+"; opacity:"+(n.shade[0]||n.shade)+"; filter:alpha(opacity="+(100*n.shade[0]||100*n.shade)+');"></div>':"",'<div class="'+d[0]+" "+(d.anim[n.shift]||"")+" layui-layer-"+f.type[n.type]+(0!=n.type&&2!=n.type||n.shade?"":" layui-layer-border")+" "+(n.skin||"")+'" id="'+d[0]+o+'" type="'+f.type[n.type]+'" times="'+o+'" showtime="'+n.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+a+"; width:"+n.area[0]+";height:"+n.area[1]+(n.fix?"":";position:absolute;")+'">'+(e&&2!=n.type?"":l)+'<div class="layui-layer-content'+(0==n.type&&-1!==n.icon?" layui-layer-padding":"")+(3==n.type?" layui-layer-loading"+n.icon:"")+'">'+(0==n.type&&-1!==n.icon?'<i class="layui-layer-ico layui-layer-ico'+n.icon+'"></i>':"")+((1!=n.type||!e)&&n.content||"")+'</div><span class="layui-layer-setwin">'+(i=s?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"",n.closeBtn&&(i+='<a class="layui-layer-ico '+d[7]+" "+d[7]+(n.title?n.closeBtn:4==n.type?"1":"2")+'" href="javascript:;"></a>'),i)+"</span>"+(n.btn?function(){var e="";"string"==typeof n.btn&&(n.btn=[n.btn]);for(var t=0,i=n.btn.length;t<i;t++)e+='<a class="'+d[6]+t+'">'+n.btn[t]+"</a>";return'<div class="'+d[6]+'">'+e+"</div>"}():"")+"</div>"],l),this},t.pt.creat=function(){var i=this,o=i.config,n=i.index,a="object"==typeof(r=o.content);switch("string"==typeof o.area&&(o.area="auto"===o.area?["",""]:[o.area,""]),o.type){case 0:o.btn="btn"in o?o.btn:f.btn[0],c.closeAll("dialog");break;case 2:var r=o.content=a?o.content:[o.content||"http://layer.layui.com","auto"];o.content='<iframe scrolling="'+(o.content[1]||"auto")+'" allowtransparency="true" id="'+d[4]+n+'" name="'+d[4]+n+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+o.content[0]+'"></iframe>';break;case 3:o.title=!1,o.closeBtn=!1,-1===o.icon&&o.icon,c.closeAll("loading");break;case 4:a||(o.content=[o.content,"body"]),o.follow=o.content[1],o.content=o.content[0]+'<i class="layui-layer-TipsG"></i>',o.title=!1,o.shade=!1,o.fix=!1,o.tips="object"==typeof o.tips?o.tips:[o.tips,!0],o.tipsMore||c.closeAll("tips")}i.vessel(a,function(e,t){s("body").append(e[0]),!a||2==o.type||4==o.type?s("body").append(e[1]):r.parents("."+d[0])[0]||(r.show().addClass("layui-layer-wrap").wrap(e[1]),s("#"+d[0]+n).find("."+d[5]).before(t)),i.layero=s("#"+d[0]+n),o.scrollbar||d.html.css("overflow","hidden").attr("layer-full",n)}).auto(n),2==o.type&&c.ie6&&i.layero.find("iframe").attr("src",r[0]),s(document).off("keydown",f.enter).on("keydown",f.enter),i.layero.on("keydown",function(e){s(document).off("keydown",f.enter)}),4==o.type?i.tips():i.offset(),o.fix&&l.on("resize",function(){i.offset(),(/^\d+%$/.test(o.area[0])||/^\d+%$/.test(o.area[1]))&&i.auto(n),4==o.type&&i.tips()}),o.time<=0||setTimeout(function(){c.close(i.index)},o.time),i.move().callback()},t.pt.auto=function(e){var t=this.config,i=s("#"+d[0]+e);""===t.area[0]&&0<t.maxWidth&&(/MSIE 7/.test(navigator.userAgent)&&t.btn&&i.width(i.innerWidth()),i.outerWidth()>t.maxWidth&&i.width(t.maxWidth));var o=[i.innerWidth(),i.innerHeight()],n=i.find(d[1]).outerHeight()||0,a=i.find("."+d[6]).outerHeight()||0;function r(e){(e=i.find(e)).height(o[1]-n-a-2*(0|parseFloat(e.css("padding"))))}switch(t.type){case 2:r("iframe");break;default:""===t.area[1]?t.fix&&o[1]>=l.height()&&(o[1]=l.height(),r("."+d[5])):r("."+d[5])}return this},t.pt.offset=function(){var e=this,t=e.config,i=e.layero,o=[i.outerWidth(),i.outerHeight()],n="object"==typeof t.offset;e.offsetTop=(l.height()-o[1])/2,e.offsetLeft=(l.width()-o[0])/2,n?(e.offsetTop=t.offset[0],e.offsetLeft=t.offset[1]||e.offsetLeft):"auto"!==t.offset&&(e.offsetTop=t.offset,"rb"===t.offset&&(e.offsetTop=l.height()-o[1],e.offsetLeft=l.width()-o[0])),t.fix||(e.offsetTop=/%$/.test(e.offsetTop)?l.height()*parseFloat(e.offsetTop)/100:parseFloat(e.offsetTop),e.offsetLeft=/%$/.test(e.offsetLeft)?l.width()*parseFloat(e.offsetLeft)/100:parseFloat(e.offsetLeft),e.offsetTop+=l.scrollTop(),e.offsetLeft+=l.scrollLeft()),i.css({top:e.offsetTop,left:e.offsetLeft})},t.pt.tips=function(){var e=this.config,t=this.layero,i=[t.outerWidth(),t.outerHeight()],o=s(e.follow);o[0]||(o=s("body"));var n={width:o.outerWidth(),height:o.outerHeight(),top:o.offset().top,left:o.offset().left},a=t.find(".layui-layer-TipsG"),r=e.tips[0];e.tips[1]||a.remove(),n.autoLeft=function(){0<n.left+i[0]-l.width()?(n.tipLeft=n.left+n.width-i[0],a.css({right:12,left:"auto"})):n.tipLeft=n.left},n.where=[function(){n.autoLeft(),n.tipTop=n.top-i[1]-10,a.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",e.tips[1])},function(){n.tipLeft=n.left+n.width+10,n.tipTop=n.top,a.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",e.tips[1])},function(){n.autoLeft(),n.tipTop=n.top+n.height+10,a.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",e.tips[1])},function(){n.tipLeft=n.left-i[0]-10,n.tipTop=n.top,a.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",e.tips[1])}],n.where[r-1](),1===r?n.top-(l.scrollTop()+i[1]+16)<0&&n.where[2]():2===r?0<l.width()-(n.left+n.width+i[0]+16)||n.where[3]():3===r?0<n.top-l.scrollTop()+n.height+i[1]+16-l.height()&&n.where[0]():4===r&&0<i[0]+16-n.left&&n.where[1](),t.find("."+d[5]).css({"background-color":e.tips[1],"padding-right":e.closeBtn?"30px":""}),t.css({left:n.tipLeft,top:n.tipTop})},t.pt.move=function(){var a=this.config,r={setY:0,moveLayer:function(){var e=r.layero,t=parseInt(e.css("margin-left")),i=parseInt(r.move.css("left"));0===t||(i-=t),"fixed"!==e.css("position")&&(i-=e.parent().offset().left,r.setY=0),e.css({left:i,top:parseInt(r.move.css("top"))-r.setY})}},e=this.layero.find(a.move);return a.move&&e.attr("move","ok"),e.css({cursor:a.move?"move":"auto"}),s(a.move).on("mousedown",function(e){if(e.preventDefault(),"ok"===s(this).attr("move")){r.ismove=!0,r.layero=s(this).parents("."+d[0]);var t=r.layero.offset().left,i=r.layero.offset().top,o=r.layero.outerWidth()-6,n=r.layero.outerHeight()-6;s("#layui-layer-moves")[0]||s("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+t+"px; top:"+i+"px; width:"+o+"px; height:"+n+'px; z-index:2147483584"></div>'),r.move=s("#layui-layer-moves"),a.moveType&&r.move.css({visibility:"hidden"}),r.moveX=e.pageX-r.move.position().left,r.moveY=e.pageY-r.move.position().top,"fixed"!==r.layero.css("position")||(r.setY=l.scrollTop())}}),s(document).mousemove(function(e){if(r.ismove){var t=e.pageX-r.moveX,i=e.pageY-r.moveY;if(e.preventDefault(),!a.moveOut){r.setY=l.scrollTop();var o=l.width()-r.move.outerWidth(),n=r.setY;t<0&&(t=0),o<t&&(t=o),i<n&&(i=n),i>l.height()-r.move.outerHeight()+r.setY&&(i=l.height()-r.move.outerHeight()+r.setY)}r.move.css({left:t,top:i}),a.moveType&&r.moveLayer(),t=i=o=n=null}}).mouseup(function(){try{r.ismove&&(r.moveLayer(),r.move.remove(),a.moveEnd&&a.moveEnd()),r.ismove=!1}catch(e){r.ismove=!1}}),this},t.pt.callback=function(){var t=this,i=t.layero,o=t.config;function n(){!1===(o.cancel&&o.cancel(t.index))||c.close(t.index)}t.openLayer(),o.success&&(2==o.type?i.find("iframe").on("load",function(){o.success(i,t.index)}):o.success(i,t.index)),c.ie6&&t.IE6(i),i.find("."+d[6]).children("a").on("click",function(){var e=s(this).index();o["btn"+(e+1)]&&o["btn"+(e+1)](t.index,i),0===e?o.yes?o.yes(t.index,i):c.close(t.index):1===e?n():o["btn"+(e+1)]||c.close(t.index)}),i.find("."+d[7]).on("click",n),o.shadeClose&&s("#layui-layer-shade"+t.index).on("click",function(){c.close(t.index)}),i.find(".layui-layer-min").on("click",function(){c.min(t.index,o),o.min&&o.min(i)}),i.find(".layui-layer-max").on("click",function(){s(this).hasClass("layui-layer-maxmin")?(c.restore(t.index),o.restore&&o.restore(i)):(c.full(t.index,o),o.full&&o.full(i))}),o.end&&(f.end[t.index]=o.end)},f.reselect=function(){s.each(s("select"),function(e,t){var i=s(this);i.parents("."+d[0])[0]||1==i.attr("layer")&&s("."+d[0]).length<1&&i.removeAttr("layer").show(),i=null})},t.pt.IE6=function(e){var t=this,i=e.offset().top;function o(){e.css({top:i+(t.config.fix?l.scrollTop():0)})}o(),l.scroll(o),s("select").each(function(e,t){var i=s(this);i.parents("."+d[0])[0]||"none"===i.css("display")||i.attr({layer:"1"}).hide(),i=null})},t.pt.openLayer=function(){c.zIndex=this.config.zIndex,c.setTop=function(e){return c.zIndex=parseInt(e[0].style.zIndex),e.on("mousedown",function(){c.zIndex++,e.css("z-index",c.zIndex+1)}),c.zIndex}},f.record=function(e){var t=[e.outerWidth(),e.outerHeight(),e.position().top,e.position().left+parseFloat(e.css("margin-left"))];e.find(".layui-layer-max").addClass("layui-layer-maxmin"),e.attr({area:t})},f.rescollbar=function(e){d.html.attr("layer-full")==e&&(d.html[0].style.removeProperty?d.html[0].style.removeProperty("overflow"):d.html[0].style.removeAttribute("overflow"),d.html.removeAttr("layer-full"))},(e.layer=c).getChildFrame=function(e,t){return t=t||s("."+d[4]).attr("times"),s("#"+d[0]+t).find("iframe").contents().find(e)},c.getFrameIndex=function(e){return s("#"+e).parents("."+d[4]).attr("times")},c.iframeAuto=function(e){if(e){var t=c.getChildFrame("html",e).outerHeight(),i=s("#"+d[0]+e),o=i.find(d[1]).outerHeight()||0,n=i.find("."+d[6]).outerHeight()||0;i.css({height:t+o+n}),i.find("iframe").css({height:t})}},c.iframeSrc=function(e,t){s("#"+d[0]+e).find("iframe").attr("src",t)},c.style=function(e,t){var i=s("#"+d[0]+e),o=i.attr("type"),n=i.find(d[1]).outerHeight()||0,a=i.find("."+d[6]).outerHeight()||0;o!==f.type[1]&&o!==f.type[2]||(i.css(t),o===f.type[2]&&i.find("iframe").css({height:parseFloat(t.height)-n-a}))},c.min=function(e,t){var i=s("#"+d[0]+e),o=i.find(d[1]).outerHeight()||0;f.record(i),c.style(e,{width:180,height:o,overflow:"hidden"}),i.find(".layui-layer-min").hide(),"page"===i.attr("type")&&i.find(d[4]).hide(),f.rescollbar(e)},c.restore=function(e){var t=s("#"+d[0]+e),i=t.attr("area").split(",");t.attr("type");c.style(e,{width:parseFloat(i[0]),height:parseFloat(i[1]),top:parseFloat(i[2]),left:parseFloat(i[3]),overflow:"visible"}),t.find(".layui-layer-max").removeClass("layui-layer-maxmin"),t.find(".layui-layer-min").show(),"page"===t.attr("type")&&t.find(d[4]).show(),f.rescollbar(e)},c.full=function(t){var e,i=s("#"+d[0]+t);f.record(i),d.html.attr("layer-full")||d.html.css("overflow","hidden").attr("layer-full",t),clearTimeout(e),e=setTimeout(function(){var e="fixed"===i.css("position");c.style(t,{top:e?0:l.scrollTop(),left:e?0:l.scrollLeft(),width:l.width(),height:l.height()}),i.find(".layui-layer-min").hide()},100)},c.title=function(e,t){s("#"+d[0]+(t||c.index)).find(d[1]).html(e)},c.close=function(e){var t=s("#"+d[0]+e),i=t.attr("type");if(t[0]){if(i===f.type[1]&&"object"===t.attr("conType")){t.children(":not(."+d[5]+")").remove();for(var o=0;o<2;o++)t.find(".layui-layer-wrap").unwrap().hide()}else{if(i===f.type[2])try{var n=s("#"+d[4]+e)[0];n.contentWindow.document.write(""),n.contentWindow.close(),t.find("."+d[5])[0].removeChild(n)}catch(e){}t[0].innerHTML="",t.remove()}s("#layui-layer-moves, #layui-layer-shade"+e).remove(),c.ie6&&f.reselect(),f.rescollbar(e),s(document).off("keydown",f.enter),"function"==typeof f.end[e]&&f.end[e](),delete f.end[e]}},c.closeAll=function(i){s.each(s("."+d[0]),function(){var e=s(this),t=i?e.attr("type")===i:1;t&&c.close(e.attr("times")),t=null})},f.run=function(){s=jQuery,l=s(e),d.html=s("html"),c.open=function(e){return new t(e).index}},"function"==typeof define?define(function(){return f.run(),c}):(f.run(),c.use("skin/layer.css"))}(window);