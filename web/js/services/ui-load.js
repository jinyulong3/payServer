angular.module("ui.load",[]).service("uiLoad",["$document","$q","$timeout",function(t,o,i){var u=[],n=!1,c=o.defer();this.load=function(e){e=angular.isArray(e)?e:e.split(/\s+/);var r=this;return n=n||c.promise,angular.forEach(e,function(e){n=n.then(function(){return 0<=e.indexOf(".css")?r.loadCSS(e):r.loadScript(e)})}),c.resolve(),n},this.loadScript=function(e){if(u[e])return u[e].promise;var r=o.defer(),n=t[0].createElement("script");return n.src=e,n.onload=function(e){i(function(){r.resolve(e)})},n.onerror=function(e){i(function(){r.reject(e)})},t[0].body.appendChild(n),(u[e]=r).promise},this.loadCSS=function(e){if(u[e])return u[e].promise;var r=o.defer(),n=t[0].createElement("link");return n.rel="stylesheet",n.type="text/css",n.href=e,n.onload=function(e){i(function(){r.resolve(e)})},n.onerror=function(e){i(function(){r.reject(e)})},t[0].head.appendChild(n),(u[e]=r).promise}}]);